import{_ as s,c as n,o as a,a as l}from"./app.f6b8b16b.js";const i=JSON.parse('{"title":"ethtool","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u8865\u5145\u8BF4\u660E","slug":"\u8865\u5145\u8BF4\u660E","link":"#\u8865\u5145\u8BF4\u660E","children":[{"level":3,"title":"\u8BED\u6CD5","slug":"\u8BED\u6CD5","link":"#\u8BED\u6CD5","children":[]},{"level":3,"title":"\u9009\u9879","slug":"\u9009\u9879","link":"#\u9009\u9879","children":[]},{"level":3,"title":"\u6570\u636E\u6765\u6E90","slug":"\u6570\u636E\u6765\u6E90","link":"#\u6570\u636E\u6765\u6E90","children":[]},{"level":3,"title":"\u5B9E\u4F8B","slug":"\u5B9E\u4F8B","link":"#\u5B9E\u4F8B","children":[]}]}],"relativePath":"linux/command/pages/ethtool.md","lastUpdated":1666509709000}'),p={name:"linux/command/pages/ethtool.md"},o=l(`<h1 id="ethtool" tabindex="-1">ethtool <a class="header-anchor" href="#ethtool" aria-hidden="true">#</a></h1><p>\u663E\u793A\u6216\u4FEE\u6539\u4EE5\u592A\u7F51\u5361\u7684\u914D\u7F6E\u4FE1\u606F</p><h2 id="\u8865\u5145\u8BF4\u660E" tabindex="-1">\u8865\u5145\u8BF4\u660E <a class="header-anchor" href="#\u8865\u5145\u8BF4\u660E" aria-hidden="true">#</a></h2><p>ethtool\u547D\u4EE4\u7528\u4E8E\u83B7\u53D6\u4EE5\u592A\u7F51\u5361\u7684\u914D\u7F6E\u4FE1\u606F\uFF0C\u6216\u8005\u4FEE\u6539\u8FD9\u4E9B\u914D\u7F6E\u3002\u8FD9\u4E2A\u547D\u4EE4\u6BD4\u8F83\u590D\u6742\uFF0C\u529F\u80FD\u7279\u522B\u591A\u3002</p><h3 id="\u8BED\u6CD5" tabindex="-1">\u8BED\u6CD5 <a class="header-anchor" href="#\u8BED\u6CD5" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">ethtool </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-a</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-c</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-g</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> -i </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-k</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-S</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|]</span><span style="color:#A6ACCD;"> ethX</span></span>
<span class="line"><span style="color:#A6ACCD;">ethtool </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-A</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> ethX </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">autoneg on</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">off</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">rx on</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">off</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">tx on</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">off</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">ethtool </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-C</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> ethX </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">adaptive-rx on</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">off</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">adaptive-tx on</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">off</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">rx-usecs N</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">rx-frames N</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">rx-usecs-irq N</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">rx-frames-irq N</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">tx-usecs N</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">tx-frames N</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">tx-usecs-irq N</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">tx-frames-irq N</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">stats-block-usecs N</span><span style="color:#89DDFF;">][</span><span style="color:#A6ACCD;">pkt-rate-low N</span><span style="color:#89DDFF;">][</span><span style="color:#A6ACCD;">rx-usecs-low N</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">rx-frames-low N</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">tx-usecs-low N</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">tx-frames-lowN</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">pkt-rate-high N</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">rx-usecs-high N</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">rx-frames-high N</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">tx-usecs-high N</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">tx-frames-high N</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">sample-interval N</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">ethtool </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-G</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> ethX </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">rx N</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">rx-mini N</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">rx-jumbo N</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">tx N</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">ethtool </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-e</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> ethX </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">raw on</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">off</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">offset N</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">length N</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">ethtool </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-E</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> ethX </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">magic N</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">offset N</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">value N</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">ethtool </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-K</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> ethX </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">rx on</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">off</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">tx on</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">off</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">sg on</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">off</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">tso on</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">off</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">ethtool </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-p</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> ethX </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">N</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">ethtool </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-t</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> ethX </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">offline</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">online</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">ethtool </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-s</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> ethX </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">speed 10</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">100</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">1000</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">duplex half</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">full</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">autoneg on</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">off</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">port tp</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">aui</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">bnc</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">mii</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">phyad N</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">xcvr internal</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">external</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">wol p</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">u</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">m</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">g</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">s</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">d...</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">sopass xx:yy:zz:aa:bb:cc</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">msglvl N</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="\u9009\u9879" tabindex="-1">\u9009\u9879 <a class="header-anchor" href="#\u9009\u9879" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">-a \u67E5\u770B\u7F51\u5361\u4E2D \u63A5\u6536\u6A21\u5757RX\u3001\u53D1\u9001\u6A21\u5757TX\u548CAutonegotiate\u6A21\u5757\u7684\u72B6\u6001\uFF1A\u542F\u52A8on \u6216 \u505C\u7528off\u3002</span></span>
<span class="line"><span style="color:#A6ACCD;">-A \u4FEE\u6539\u7F51\u5361\u4E2D \u63A5\u6536\u6A21\u5757RX\u3001\u53D1\u9001\u6A21\u5757TX\u548CAutonegotiate\u6A21\u5757\u7684\u72B6\u6001\uFF1A\u542F\u52A8on \u6216 \u505C\u7528off\u3002</span></span>
<span class="line"><span style="color:#A6ACCD;">-c display the Coalesce information of the specified ethernet card\u3002</span></span>
<span class="line"><span style="color:#A6ACCD;">-C Change the Coalesce setting of the specified ethernet card\u3002</span></span>
<span class="line"><span style="color:#A6ACCD;">-g Display the rx/tx ring parameter information of the specified ethernet card\u3002</span></span>
<span class="line"><span style="color:#A6ACCD;">-G change the rx/tx ring setting of the specified ethernet card\u3002</span></span>
<span class="line"><span style="color:#A6ACCD;">-i \u663E\u793A\u7F51\u5361\u9A71\u52A8\u7684\u4FE1\u606F\uFF0C\u5982\u9A71\u52A8\u7684\u540D\u79F0\u3001\u7248\u672C\u7B49\u3002</span></span>
<span class="line"><span style="color:#A6ACCD;">-d \u663E\u793Aregister dump\u4FE1\u606F, \u90E8\u5206\u7F51\u5361\u9A71\u52A8\u4E0D\u652F\u6301\u8BE5\u9009\u9879\u3002</span></span>
<span class="line"><span style="color:#A6ACCD;">-e \u663E\u793AEEPROM dump\u4FE1\u606F\uFF0C\u90E8\u5206\u7F51\u5361\u9A71\u52A8\u4E0D\u652F\u6301\u8BE5\u9009\u9879\u3002</span></span>
<span class="line"><span style="color:#A6ACCD;">-E \u4FEE\u6539\u7F51\u5361EEPROM byte\u3002</span></span>
<span class="line"><span style="color:#A6ACCD;">-k \u663E\u793A\u7F51\u5361Offload\u53C2\u6570\u7684\u72B6\u6001\uFF1Aon \u6216 off\uFF0C\u5305\u62ECrx-checksumming\u3001tx-checksumming\u7B49\u3002</span></span>
<span class="line"><span style="color:#A6ACCD;">-K \u4FEE\u6539\u7F51\u5361Offload\u53C2\u6570\u7684\u72B6\u6001\u3002</span></span>
<span class="line"><span style="color:#A6ACCD;">-p \u7528\u4E8E\u533A\u522B\u4E0D\u540CethX\u5BF9\u5E94\u7F51\u5361\u7684\u7269\u7406\u4F4D\u7F6E\uFF0C\u5E38\u7528\u7684\u65B9\u6CD5\u662F\u4F7F\u7F51\u5361port\u4E0A\u7684led\u4E0D\u65AD\u7684\u95EA\uFF1BN\u6307\u793A\u4E86\u7F51\u5361\u95EA\u7684\u6301\u7EED\u65F6\u95F4\uFF0C\u4EE5\u79D2\u4E3A\u5355\u4F4D\u3002</span></span>
<span class="line"><span style="color:#A6ACCD;">-r \u5982\u679Cauto-negotiation\u6A21\u5757\u7684\u72B6\u6001\u4E3Aon\uFF0C\u5219restarts auto-negotiation\u3002</span></span>
<span class="line"><span style="color:#A6ACCD;">-S \u663E\u793ANIC- and driver-specific \u7684\u7EDF\u8BA1\u53C2\u6570\uFF0C\u5982\u7F51\u5361\u63A5\u6536/\u53D1\u9001\u7684\u5B57\u8282\u6570\u3001\u63A5\u6536/\u53D1\u9001\u7684\u5E7F\u64AD\u5305\u4E2A\u6570\u7B49\u3002</span></span>
<span class="line"><span style="color:#A6ACCD;">-t \u8BA9\u7F51\u5361\u6267\u884C\u81EA\u6211\u68C0\u6D4B\uFF0C\u6709\u4E24\u79CD\u6A21\u5F0F\uFF1Aoffline or online\u3002</span></span>
<span class="line"><span style="color:#A6ACCD;">-s \u4FEE\u6539\u7F51\u5361\u7684\u90E8\u5206\u914D\u7F6E\uFF0C\u5305\u62EC\u7F51\u5361\u901F\u5EA6\u3001\u5355\u5DE5/\u5168\u53CC\u5DE5\u6A21\u5F0F\u3001mac\u5730\u5740\u7B49\u3002</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="\u6570\u636E\u6765\u6E90" tabindex="-1">\u6570\u636E\u6765\u6E90 <a class="header-anchor" href="#\u6570\u636E\u6765\u6E90" aria-hidden="true">#</a></h3><p>Ethtool\u547D\u4EE4\u663E\u793A\u7684\u4FE1\u606F\u6765\u6E90\u4E8E\u7F51\u5361\u9A71\u52A8\u5C42\uFF0C\u5373TCP/ip\u534F\u8BAE\u7684\u94FE\u8DEF\u5C42\u3002\u8BE5\u547D\u4EE4\u5728Linux\u5185\u6838\u4E2D\u5B9E\u73B0\u7684\u903B\u8F91\u5C42\u6B21\u4E3A\uFF1A</p><p>\u6700\u91CD\u8981\u7684\u7ED3\u6784\u4F53<code>struct ethtool_ops</code>\uFF0C\u8BE5\u7ED3\u6784\u4F53\u6210\u5458\u4E3A\u7528\u4E8E\u663E\u793A\u6216\u4FEE\u6539\u4EE5\u592A\u7F51\u5361\u914D\u7F6E\u7684\u4E00\u7CFB\u5217\u51FD\u6570\u6307\u9488\uFF0C\u89C1\u4E0B\u8868\u4E2D\u7684\u7B2C\u4E8C\u5217\u3002</p><p>\u7F51\u5361\u9A71\u52A8\u8D1F\u8D23\u5B9E\u73B0\uFF08\u90E8\u5206\uFF09\u8FD9\u4E9B\u51FD\u6570\uFF0C\u5E76\u5C06\u5176\u5C01\u88C5\u5165<code>ethtool_ops</code>\u7ED3\u6784\u4F53\uFF0C\u4E3A\u7F51\u7EDC\u6838\u5FC3\u5C42\u63D0\u4F9B\u7EDF\u4E00\u7684\u8C03\u7528\u63A5\u53E3\u3002\u56E0\u6B64\uFF0C\u4E0D\u540C\u7684\u7F51\u5361\u9A71\u52A8\u4F1A\u7ED9\u5E94\u7528\u5C42\u8FD4\u56DE\u4E0D\u540C\u7684\u4FE1\u606F\u3002<code>Ethtool\u547D\u4EE4\u9009\u9879</code>\u3001<code>struct ethtool_ops\u6210\u5458\u51FD\u6570</code>\u3001<code>Ethtool\u547D\u4EE4\u663E\u793A\u53C2\u6570\u7684\u6765\u6E90</code>\uFF0C\u4E09\u8005\u95F4\u7684\u5BF9\u5E94\u5173\u7CFB\u5982\u4E0B\u8868\u6240\u793A\uFF1A</p><table><thead><tr><th>\u547D\u4EE4\u9009\u9879</th><th>struct ethtool_ops\u6210\u5458\u51FD\u6570</th><th>Ethtool\u547D\u4EE4\u663E\u793A\u53C2\u6570\u7684\u6765\u6E90\uFF08\u4EE5\u7F51\u5361\u9A71\u52A8BNX2\u4E3A\u4F8B\uFF09</th></tr></thead><tbody><tr><td>\u65E0 -s</td><td>get_settingsget_wol get_msglevel get_link set_settings set_wol set_msglevel</td><td>\u4ECE\u7F51\u5361\u5BC4\u5B58\u5668\u4E2D\u83B7\u5F97\u7F51\u5361\u901F\u5EA6\u7B49\u4FE1\u606F\uFF0C\u53EF\u914D\u7F6E\u3002</td></tr><tr><td>-a -A</td><td>get_pauseparam set_pauseparam</td><td>\u4ECE\u7F51\u5361\u5BC4\u5B58\u5668\u4E2D\u83B7\u5F97Autonegotiate/RX/TX\u6A21\u5757\u7684\u72B6\u6001\uFF1Aon oroff\uFF0C\u53EF\u914D\u7F6E\u3002</td></tr><tr><td>-c -C</td><td>get_coalesceset_coalesce</td><td>\u4ECE\u7F51\u5361\u5BC4\u5B58\u5668\u4E2D\u83B7\u5F97coalescing\u53C2\u6570\uFF1ATX/RX\u4E00\u4E2A\u6570\u636E\u5305\u540E\uFF0C\u63A8\u8FDF\u53D1\u751FTX/RX\u4E2D\u65AD\u7684\u65F6\u95F4(us)/\u6570\u636E\u5305\u4E2A\u6570\u3002\u2014\u51CF\u5C0F\u8BE5\u503C\u53EF\u4EE5\u63D0\u9AD8\u7F51\u5361\u7684\u54CD\u5E94\u65F6\u95F4\u3002 \u5F53rx-usecs&amp;rx-frames\u540C\u65F6\u88AB\u8BBE\u4E3A0\u65F6\uFF0CRX\u4E2D\u65AD\u505C\u6B62\u3002 \u5F53tx-usecs&amp;tx-frames\u540C\u65F6\u88AB\u8BBE\u4E3A0\u65F6\uFF0CTX\u4E2D\u65AD\u505C\u6B62\u3002</td></tr><tr><td>-g -G</td><td>get_ringparam set_ringparam</td><td>\u9664\u5F53\u524DTX/RX ring\u7684\u503C\uFF08\u4ECE\u7F51\u5361\u5BC4\u5B58\u5668\u4E2D\u8BFB\u53D6\u5F97\u5230\uFF0C\u53EF\u914D\u7F6E\uFF09\u5916\uFF0C\u5176\u5B83\u4E3A\u7F51\u5361bnx2\u81EA\u5DF1\u56FA\u5B9A\u7684\u4FE1\u606F\u3002</td></tr><tr><td>-k -K</td><td>get_rx_csumget_tx_csum get_sg get_tso set_rx_csum set_tx_csum set_sg set_tso</td><td>\u663E\u793A\u4FE1\u606F\u4ECE\u4FDD\u5B58\u8BE5\u72B6\u6001\u7684\u53D8\u91CF\u4E2D\u8BFB\u53D6\u5F97\u5230\uFF0C\u6CA1\u6709\u5BF9\u5E94\u7684\u5BC4\u5B58\u5668\u3002\u56E0\u6B64\uFF0CTX/RX\u6821\u9A8C\u7B49\u6A21\u5757\u4E00\u76F4\u5904\u4E8Eon\u72B6\u6001\uFF0C\u5B9E\u9645\u4E0A\u662F\u65E0\u6CD5\u4FEE\u6539\u7684\u3002</td></tr><tr><td>-i</td><td>get_drvinfo[self_test_count, get_stats_coun,t get_regs_len, get_eeprom_len]</td><td>\u7F51\u5361bnx2\u81EA\u5DF1\u56FA\u5B9A\u7684\u4FE1\u606F\uFF0C\u5982\uFF1A \u2014\u2014\u2014\u2014\u2014\u2014driver: bnx2 version: 1.4.30 firmware-version: 1.8.0.5 bus-info: 0000:09:00.0 \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2013</td></tr><tr><td>-d</td><td>get_drvinfoget_regs</td><td>\u4E0D\u652F\u6301\uFF0C\u5373bnx2\u4E2D\u6CA1\u6709\u5B9E\u73B0\u51FD\u6570get_regs\u3002</td></tr><tr><td>-e -E</td><td>get_eepromset_eeprom</td><td>\u4E0D\u652F\u6301\uFF0C\u5373bnx2\u4E2D\u6CA1\u6709\u5B9E\u73B0\u51FD\u6570get_eeprom\u3002</td></tr><tr><td>-r</td><td>nway_reset</td><td>\u914D\u7F6E\u7F51\u5361MII_BMCR\u5BC4\u5B58\u5668\uFF0C\u91CD\u542FAuto negotiation\u6A21\u5757\u3002</td></tr><tr><td>-p</td><td>phys_id</td><td>\u914D\u7F6E\u7F51\u5361BNX2_EMAC_LED\u5BC4\u5B58\u5668\uFF0C\u5B9E\u73B0LED\u95EA\u529F\u80FD\u3002</td></tr><tr><td>-t</td><td>self_test</td><td>\u901A\u8FC7\u914D\u7F6E\u7F51\u5361\u5BC4\u5B58\u5668\uFF0C\u9010\u4E00\u6D4B\u8BD5\u7F51\u5361\u7684\u786C\u4EF6\u6A21\u5757\uFF1Aregisters\uFF0Cmemory\uFF0Cloopback\uFF0CLink stat\uFF0Cinterrupt\u3002</td></tr><tr><td>-S</td><td>get_ethtool_stats</td><td>\u663E\u793A\u4FE1\u606F\u6765\u6E90\u4E8E\u7F51\u5361\u9A71\u52A8\u4E2D\u7684\u7ED3\u6784\u4F53\u53D8\u91CFstats_blk\u3002\uFF08\u7F51\u5361\u901A\u8FC7DMA\u65B9\u5F0F\uFF0C\u5C06\u5BC4\u5B58\u5668BNX2_HC_STATISTICS _ADDR_L\u548CBNX2_HC_STATISTICS_ADDR_H\u4E2D\u7684\u6570\u636E\u5B9E\u65F6\u5730\u8BFB\u53D6\u5230\u7ED3\u6784\u4F53\u53D8\u91CFstruct statistics_block *stats_blk\u4E2D\u3002\uFF09 \u2014\u663E\u793A\u7684\u6570\u636E\u90FD\u662F\u4ECE\u7F51\u5361\u5BC4\u5B58\u5668\u4E2D\u7EDF\u8BA1\u5F97\u5230\u7684\uFF0C\u5404\u9879\u7684\u542B\u4E49\u9700\u67E5\u8BE2\u7F51\u5361\uFF08\u82AF\u7247\uFF09\u624B\u518C\u3002</td></tr></tbody></table><p>\u7531\u4E0A\u53EF\u89C1\uFF0Cethtool\u547D\u4EE4\u7528\u4E8E\u663E\u793A/\u914D\u7F6E\u7F51\u5361\u786C\u4EF6\uFF08\u5BC4\u5B58\u5668\uFF09\u3002</p><h3 id="\u5B9E\u4F8B" tabindex="-1">\u5B9E\u4F8B <a class="header-anchor" href="#\u5B9E\u4F8B" aria-hidden="true">#</a></h3><p>\u67E5\u770B\u673A\u5668\u4E0A\u7F51\u5361\u7684\u901F\u5EA6\uFF1A\u767E\u5146\u8FD8\u662F\u5343\u5146\uFF0C\u8BF7\u8F93\u5165\uFF1A</p><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">ethool eth0</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u64CD\u4F5C\u5B8C\u6BD5\u540E\uFF0C\u8F93\u51FA\u4FE1\u606F\u4E2D<code>Speed:</code>\u8FD9\u4E00\u9879\u5C31\u6307\u793A\u4E86\u7F51\u5361\u7684\u901F\u5EA6\u3002\u505C\u6B62\u7F51\u5361\u7684\u53D1\u9001\u6A21\u5757TX\uFF0C\u8BF7\u8F93\u5165\uFF1A</p><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">ethtool -A tx off eth0</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u64CD\u4F5C\u5B8C\u6BD5\u540E\uFF0C\u53EF\u8F93\u5165<code>ethtool -a eth0</code>\uFF0C\u67E5\u770Btx\u6A21\u5757\u662F\u5426\u5DF2\u88AB\u505C\u6B62\u3002\u67E5\u770B\u7F51\u5361eth0\u91C7\u7528\u4E86\u4F55\u79CD\u9A71\u52A8\uFF0C\u8BF7\u8F93\u5165\uFF1A</p><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">ethtool -i eth0</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u64CD\u4F5C\u5B8C\u6BD5\u540E\uFF0C\u663E\u793A driver: bnx2\uFF1Bversion: 1.4.30 \u7B49\u4FE1\u606F\u3002\u5173\u95ED\u7F51\u5361\u5BF9\u6536\u5230\u7684\u6570\u636E\u5305\u7684\u6821\u9A8C\u529F\u80FD\uFF0C\u8BF7\u8F93\u5165\uFF1A</p><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">ethtool -K eth0 rx off</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u64CD\u4F5C\u5B8C\u6BD5\u540E\uFF0C\u53EF\u8F93\u5165<code>ethtool \u2013k eth0</code>\uFF0C\u67E5\u770B\u6821\u9A8C\u529F\u80FD\u662F\u5426\u5DF2\u88AB\u505C\u6B62\u3002\u5982\u679C\u673A\u5668\u4E0A\u5B89\u88C5\u4E86\u4E24\u5757\u7F51\u5361\uFF0C\u90A3\u4E48eth0\u5BF9\u5E94\u7740\u54EA\u5757\u7F51\u5361\u5462\uFF1F\u8F93\u5165\uFF1A</p><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">ethtool -p eth0 10</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u64CD\u4F5C\u5B8C\u6BD5\u540E\uFF0C\u770B\u54EA\u5757\u7F51\u5361\u7684led\u706F\u5728\u95EA\uFF0Ceth0\u5C31\u5BF9\u5E94\u7740\u54EA\u5757\u7F51\u5361\u3002\u67E5\u770B\u7F51\u5361\uFF0C\u5728\u63A5\u6536/\u53D1\u9001\u6570\u636E\u65F6\uFF0C\u6709\u6CA1\u6709\u51FA\u9519\uFF1F\u8BF7\u8F93\u5165\uFF1A</p><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">ethtool \u2013S eth0</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u5C06\u5343\u5146\u7F51\u5361\u7684\u901F\u5EA6\u964D\u4E3A\u767E\u5146\uFF0C\u8BF7\u8F93\u5165\uFF1A</p><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">ethtool -s eth0 speed 100</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div>`,29),e=[o];function t(r,c,D,A,C,y){return a(),n("div",null,e)}const d=s(p,[["render",t]]);export{i as __pageData,d as default};
