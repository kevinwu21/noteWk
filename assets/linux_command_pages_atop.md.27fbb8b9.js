import{_ as a,c as l,o as s,a as n}from"./app.f6b8b16b.js";const D=JSON.parse('{"title":"atop","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u8865\u5145\u8BF4\u660E","slug":"\u8865\u5145\u8BF4\u660E","link":"#\u8865\u5145\u8BF4\u660E","children":[]},{"level":2,"title":"\u8BED\u6CD5","slug":"\u8BED\u6CD5","link":"#\u8BED\u6CD5","children":[]},{"level":2,"title":"\u8BF4\u660E","slug":"\u8BF4\u660E","link":"#\u8BF4\u660E","children":[]},{"level":2,"title":"atop\u65E5\u5FD7","slug":"atop\u65E5\u5FD7","link":"#atop\u65E5\u5FD7","children":[]},{"level":2,"title":"\u76F8\u5173\u8D44\u6599","slug":"\u76F8\u5173\u8D44\u6599","link":"#\u76F8\u5173\u8D44\u6599","children":[]}],"relativePath":"linux/command/pages/atop.md","lastUpdated":1666509709000}'),e={name:"linux/command/pages/atop.md"},p=n(`<h1 id="atop" tabindex="-1">atop <a class="header-anchor" href="#atop" aria-hidden="true">#</a></h1><p>\u76D1\u63A7Linux\u7CFB\u7EDF\u8D44\u6E90\u4E0E\u8FDB\u7A0B\u7684\u5DE5\u5177</p><h2 id="\u8865\u5145\u8BF4\u660E" tabindex="-1">\u8865\u5145\u8BF4\u660E <a class="header-anchor" href="#\u8865\u5145\u8BF4\u660E" aria-hidden="true">#</a></h2><p>[\u975E\u5185\u90E8\u7A0B\u5E8F\uFF0C\u9700\u8981\u5B89\u88C5]\u5B83\u4EE5\u4E00\u5B9A\u7684\u9891\u7387\u8BB0\u5F55\u7CFB\u7EDF\u7684\u8FD0\u884C\u72B6\u6001\uFF0C\u6240\u91C7\u96C6\u7684\u6570\u636E\u5305\u542B\u7CFB\u7EDF\u8D44\u6E90(CPU\u3001\u5185\u5B58\u3001\u78C1\u76D8\u548C\u7F51\u7EDC)\u4F7F\u7528\u60C5\u51B5\u548C\u8FDB\u7A0B\u8FD0\u884C\u60C5\u51B5\uFF0C\u5E76\u80FD\u4EE5\u65E5\u5FD7\u6587\u4EF6\u7684\u65B9\u5F0F\u4FDD\u5B58\u5728\u78C1\u76D8\u4E2D\uFF0C\u670D\u52A1\u5668\u51FA\u73B0\u95EE\u9898\u540E\uFF0C\u6211\u4EEC\u53EF\u83B7\u53D6\u76F8\u5E94\u7684atop\u65E5\u5FD7\u6587\u4EF6\u8FDB\u884C\u5206\u6790\u3002atop\u662F\u4E00\u6B3E\u5F00\u6E90\u8F6F\u4EF6\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4ECE\u8FD9\u91CC\u83B7\u5F97\u5176\u6E90\u7801\u548Crpm\u5B89\u88C5\u5305\u3002</p><h2 id="\u8BED\u6CD5" tabindex="-1">\u8BED\u6CD5 <a class="header-anchor" href="#\u8BED\u6CD5" aria-hidden="true">#</a></h2><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">atop</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">\u9009\u9879</span><span style="color:#89DDFF;">)(</span><span style="color:#A6ACCD;">\u53C2\u6570</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="\u8BF4\u660E" tabindex="-1">\u8BF4\u660E <a class="header-anchor" href="#\u8BF4\u660E" aria-hidden="true">#</a></h2><p><strong>ATOP\u5217</strong>\uFF1A\u8BE5\u5217\u663E\u793A\u4E86\u4E3B\u673A\u540D\u3001\u4FE1\u606F\u91C7\u6837\u65E5\u671F\u548C\u65F6\u95F4\u70B9</p><p><strong>PRC\u5217</strong>\uFF1A\u8BE5\u5217\u663E\u793A\u8FDB\u7A0B\u6574\u4F53\u8FD0\u884C\u60C5\u51B5</p><ul><li>sys\u3001usr\u5B57\u6BB5\u5206\u522B\u6307\u793A\u8FDB\u7A0B\u5728\u5185\u6838\u6001\u548C\u7528\u6237\u6001\u7684\u8FD0\u884C\u65F6\u95F4</li><li>#proc\u5B57\u6BB5\u6307\u793A\u8FDB\u7A0B\u603B\u6570</li><li>#zombie\u5B57\u6BB5\u6307\u793A\u50F5\u6B7B\u8FDB\u7A0B\u7684\u6570\u91CF</li><li>#exit\u5B57\u6BB5\u6307\u793Aatop\u91C7\u6837\u5468\u671F\u671F\u95F4\u9000\u51FA\u7684\u8FDB\u7A0B\u6570\u91CF</li></ul><p><strong>CPU\u5217</strong>\uFF1A\u8BE5\u5217\u663E\u793ACPU\u6574\u4F53(\u5373\u591A\u6838CPU\u4F5C\u4E3A\u4E00\u4E2A\u6574\u4F53CPU\u8D44\u6E90)\u7684\u4F7F\u7528\u60C5\u51B5\uFF0C\u6211\u4EEC\u77E5\u9053CPU\u53EF\u88AB\u7528\u4E8E\u6267\u884C\u8FDB\u7A0B\u3001\u5904\u7406\u4E2D\u65AD\uFF0C\u4E5F\u53EF\u5904\u4E8E\u7A7A\u95F2\u72B6\u6001(\u7A7A\u95F2\u72B6\u6001\u5206\u4E24\u79CD\uFF0C\u4E00\u79CD\u662F\u6D3B\u52A8\u8FDB\u7A0B\u7B49\u5F85\u78C1\u76D8IO\u5BFC\u81F4CPU\u7A7A\u95F2\uFF0C\u53E6\u4E00\u79CD\u662F\u5B8C\u5168\u7A7A\u95F2)</p><ul><li>sys\u3001usr\u5B57\u6BB5\u6307\u793ACPU\u88AB\u7528\u4E8E\u5904\u7406\u8FDB\u7A0B\u65F6\uFF0C\u8FDB\u7A0B\u5728\u5185\u6838\u6001\u3001\u7528\u6237\u6001\u6240\u5360CPU\u7684\u65F6\u95F4\u6BD4\u4F8B</li><li>irq\u5B57\u6BB5\u6307\u793ACPU\u88AB\u7528\u4E8E\u5904\u7406\u4E2D\u65AD\u7684\u65F6\u95F4\u6BD4\u4F8B</li><li>idle\u5B57\u6BB5\u6307\u793ACPU\u5904\u5728\u5B8C\u5168\u7A7A\u95F2\u72B6\u6001\u7684\u65F6\u95F4\u6BD4\u4F8B</li><li>wait\u5B57\u6BB5\u6307\u793ACPU\u5904\u5728\u201C\u8FDB\u7A0B\u7B49\u5F85\u78C1\u76D8IO\u5BFC\u81F4CPU\u7A7A\u95F2\u201D\u72B6\u6001\u7684\u65F6\u95F4\u6BD4\u4F8B</li></ul><p>CPU\u5217\u5404\u4E2A\u5B57\u6BB5\u6307\u793A\u503C\u76F8\u52A0\u7ED3\u679C\u4E3AN00%\uFF0C\u5176\u4E2DN\u4E3Acpu\u6838\u6570\u3002</p><p>cpu\u5217\uFF1A\u8BE5\u5217\u663E\u793A\u67D0\u4E00\u6838cpu\u7684\u4F7F\u7528\u60C5\u51B5\uFF0C\u5404\u5B57\u6BB5\u542B\u4E49\u53EF\u53C2\u7167CPU\u5217\uFF0C\u5404\u5B57\u6BB5\u503C\u76F8\u52A0\u7ED3\u679C\u4E3A100%</p><p><strong>CPL\u5217</strong>\uFF1A\u8BE5\u5217\u663E\u793ACPU\u8D1F\u8F7D\u60C5\u51B5</p><ul><li>avg1\u3001avg5\u548Cavg15\u5B57\u6BB5\uFF1A\u8FC7\u53BB1\u5206\u949F\u30015\u5206\u949F\u548C15\u5206\u949F\u5185\u8FD0\u884C\u961F\u5217\u4E2D\u7684\u5E73\u5747\u8FDB\u7A0B\u6570\u91CF</li><li>csw\u5B57\u6BB5\u6307\u793A\u4E0A\u4E0B\u6587\u4EA4\u6362\u6B21\u6570</li><li>intr\u5B57\u6BB5\u6307\u793A\u4E2D\u65AD\u53D1\u751F\u6B21\u6570</li></ul><p><strong>MEM\u5217</strong>\uFF1A\u8BE5\u5217\u6307\u793A\u5185\u5B58\u7684\u4F7F\u7528\u60C5\u51B5</p><ul><li>tot\u5B57\u6BB5\u6307\u793A\u7269\u7406\u5185\u5B58\u603B\u91CF</li><li>free\u5B57\u6BB5\u6307\u793A\u7A7A\u95F2\u5185\u5B58\u7684\u5927\u5C0F</li><li>cache\u5B57\u6BB5\u6307\u793A\u7528\u4E8E\u9875\u7F13\u5B58\u7684\u5185\u5B58\u5927\u5C0F</li><li>buff\u5B57\u6BB5\u6307\u793A\u7528\u4E8E\u6587\u4EF6\u7F13\u5B58\u7684\u5185\u5B58\u5927\u5C0F</li><li>slab\u5B57\u6BB5\u6307\u793A\u7CFB\u7EDF\u5185\u6838\u5360\u7528\u7684\u5185\u5B58\u5927\u5C0F</li></ul><p><strong>SWP\u5217</strong>\uFF1A\u8BE5\u5217\u6307\u793A\u4EA4\u6362\u7A7A\u95F4\u7684\u4F7F\u7528\u60C5\u51B5</p><ul><li>tot\u5B57\u6BB5\u6307\u793A\u4EA4\u6362\u533A\u603B\u91CF</li><li>free\u5B57\u6BB5\u6307\u793A\u7A7A\u95F2\u4EA4\u6362\u7A7A\u95F4\u5927\u5C0F</li></ul><p><strong>PAG\u5217</strong>\uFF1A\u8BE5\u5217\u6307\u793A\u865A\u62DF\u5185\u5B58\u5206\u9875\u60C5\u51B5</p><p>swin\u3001swout\u5B57\u6BB5\uFF1A\u6362\u5165\u548C\u6362\u51FA\u5185\u5B58\u9875\u6570</p><p><strong>DSK\u5217</strong>\uFF1A\u8BE5\u5217\u6307\u793A\u78C1\u76D8\u4F7F\u7528\u60C5\u51B5\uFF0C\u6BCF\u4E00\u4E2A\u78C1\u76D8\u8BBE\u5907\u5BF9\u5E94\u4E00\u5217\uFF0C\u5982\u679C\u6709sdb\u8BBE\u5907\uFF0C\u90A3\u4E48\u589E\u591A\u4E00\u5217DSK\u4FE1\u606F</p><ul><li>sda\u5B57\u6BB5\uFF1A\u78C1\u76D8\u8BBE\u5907\u6807\u8BC6</li><li>busy\u5B57\u6BB5\uFF1A\u78C1\u76D8\u5FD9\u65F6\u6BD4\u4F8B</li><li>read\u3001write\u5B57\u6BB5\uFF1A\u8BFB\u3001\u5199\u8BF7\u6C42\u6570\u91CF</li></ul><p><strong>NET\u5217</strong>\uFF1A\u591A\u5217NET\u5C55\u793A\u4E86\u7F51\u7EDC\u72B6\u51B5\uFF0C\u5305\u62EC\u4F20\u8F93\u5C42(TCP\u548CUDP)\u3001IP\u5C42\u4EE5\u53CA\u5404\u6D3B\u52A8\u7684\u7F51\u53E3\u4FE1\u606F</p><ul><li>XXXi \u5B57\u6BB5\u6307\u793A\u5404\u5C42\u6216\u6D3B\u52A8\u7F51\u53E3\u6536\u5305\u6570\u76EE</li><li>XXXo \u5B57\u6BB5\u6307\u793A\u5404\u5C42\u6216\u6D3B\u52A8\u7F51\u53E3\u53D1\u5305\u6570\u76EE</li></ul><h2 id="atop\u65E5\u5FD7" tabindex="-1">atop\u65E5\u5FD7 <a class="header-anchor" href="#atop\u65E5\u5FD7" aria-hidden="true">#</a></h2><p>\u6BCF\u4E2A\u65F6\u95F4\u70B9\u91C7\u6837\u9875\u9762\u7EC4\u5408\u8D77\u6765\u5C31\u5F62\u6210\u4E86\u4E00\u4E2Aatop\u65E5\u5FD7\u6587\u4EF6\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528&quot;atop -r XXX&quot;\u547D\u4EE4\u5BF9\u65E5\u5FD7\u6587\u4EF6\u8FDB\u884C\u67E5\u770B\u3002\u90A3\u4EE5\u4EC0\u4E48\u5F62\u5F0F\u4FDD\u5B58atop\u65E5\u5FD7\u6587\u4EF6\u5462\uFF1F</p><p>\u5BF9\u4E8Eatop\u65E5\u5FD7\u6587\u4EF6\u7684\u4FDD\u5B58\u65B9\u5F0F\uFF0C\u6211\u4EEC\u53EF\u4EE5\u8FD9\u6837\uFF1A</p><ul><li>\u6BCF\u5929\u4FDD\u5B58\u4E00\u4E2Aatop\u65E5\u5FD7\u6587\u4EF6\uFF0C\u8BE5\u65E5\u5FD7\u6587\u4EF6\u8BB0\u5F55\u5F53\u5929\u4FE1\u606F</li><li>\u65E5\u5FD7\u6587\u4EF6\u4EE5&quot;atop_YYYYMMDD&quot;\u7684\u65B9\u5F0F\u547D\u540D</li><li>\u8BBE\u5B9A\u65E5\u5FD7\u5931\u6548\u671F\u9650\uFF0C\u81EA\u52A8\u5220\u9664\u4E00\u6BB5\u65F6\u95F4\u524D\u7684\u65E5\u5FD7\u6587\u4EF6</li></ul><p>\u5176\u5B9Eatop\u5F00\u53D1\u8005\u5DF2\u7ECF\u63D0\u4F9B\u4E86\u4EE5\u4E0A\u65E5\u5FD7\u4FDD\u5B58\u65B9\u5F0F\uFF0C\u76F8\u5E94\u7684atop.daily\u811A\u672C\u53EF\u4EE5\u5728\u6E90\u7801\u76EE\u5F55\u4E0B\u627E\u5230\u3002\u5728atop.daily\u811A\u672C\u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u4FEE\u6539INTERVAL\u53D8\u91CF\u6539\u53D8atop\u4FE1\u606F\u91C7\u6837\u5468\u671F(\u9ED8\u8BA4\u4E3A10\u5206\u949F)\uFF1B\u901A\u8FC7\u4FEE\u6539\u4EE5\u4E0B\u547D\u4EE4\u4E2D\u7684\u6570\u503C\u6539\u53D8\u65E5\u5FD7\u4FDD\u5B58\u5929\u6570(\u9ED8\u8BA4\u4E3A28\u5929)\uFF1A</p><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">sleep 3</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> find </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">LOGPATH -name </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">atop_*</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> -mtime +28 -exec rm {} \\; </span><span style="color:#89DDFF;">)&amp;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u6700\u540E\uFF0C\u6211\u4EEC\u4FEE\u6539cron\u6587\u4EF6\uFF0C\u6BCF\u5929\u51CC\u6668\u6267\u884Catop.daily\u811A\u672C\uFF1A</p><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">0 0 </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> root /etc/cron.daily/atop.daily</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="\u76F8\u5173\u8D44\u6599" tabindex="-1">\u76F8\u5173\u8D44\u6599 <a class="header-anchor" href="#\u76F8\u5173\u8D44\u6599" aria-hidden="true">#</a></h2><ul><li><a href="http://www.atoptool.nl/download/man_atop-1.pdf" target="_blank" rel="noreferrer">\u5B98\u65B9\u624B\u518C</a></li></ul>`,36),o=[p];function t(i,r,c,d,u,h){return s(),l("div",null,o)}const g=a(e,[["render",t]]);export{D as __pageData,g as default};
